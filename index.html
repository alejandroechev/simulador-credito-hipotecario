<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Simulador Cr√©dito Hipotecario</title>

    <script>
      function simulate() {
	console.log("Starting simulation");
        const adjustedRate = document.getElementById("rate").value / 100.0;
        const adjustedPeriod = document.getElementById("period").value * 12;
        const creditAmount = document.getElementById("credit").value;
        const monthlyRate = Math.pow(1 + adjustedRate, 1.0/12.0) - 1;
        const monthlyPayment = creditAmount * monthlyRate * (Math.pow(1 + monthlyRate, adjustedPeriod) / (Math.pow(1 + monthlyRate,adjustedPeriod) - 1));
	console.log(monthlyPayment);
	document.getElementById("monthly").innerText = monthlyPayment.toFixed(2).toString();
      }
    </script>

    <style>
      .container {
        font-size: 24px;
        text-align: center;
        line-height: 2em;
        margin-top: 10%;
      }
      
      .result {
        margin-top: 50px;
        font-size: 30px;
      }
	    
      .bold {
	font-weight: bold;
      }
	    
      .button {
	font-size: 24px;
	font-weight: bold;
      }
	    
      .input {
	font-size: 24px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div>
        üè† El <span class="bold">monto total</span> de la casa o departamento es:
        <input class="input" type="number" id="total"></input> UF
      </div>
      <div>
        ü¶∂ El <span class="bold">porcentaje</span> que t√∫ vas a financiar ("pie"):
        <input class="input" type="number" id="pie"></input> %
      </div>
        üè¶ El <span class="bold">cr√©dito</span> que necesitas del banco:
        <input class="input" type="number" id="credit"></input> UF
      <div>
        üìà La <span class="bold">tasa de inter√©s</span> que te ofrece el banco:
        <input class="input" type="number" id="rate" step="0.01"></input> % anual
      </div>
        ‚è∞ El <span class="bold">plazo</span> que tendr√°s para pagar el cr√©dito:
        <input class="input" type="number" id="period"></input> a√±os
      <div class="result">
        üí∏ El <span class="bold">monto mensual</span> que tendr√°s que pagar es:
        <button class="button" id="monthly" onclick="simulate()">Simular!</button> UF
      </div>
    </div>
  </body>
</html>
